# API ржПржирзНржбржкржпрж╝рзЗржирзНржЯ ржбржХрзБржорзЗржирзНржЯрзЗрж╢ржи
## API Endpoints Documentation

**рж╕рж┐рж╕рзНржЯрзЗржо**: ржврж╛ржХрж╛ ржмрж░рзНржЬрзНржп ржмрзНржпржмрж╕рзНржерж╛ржкржирж╛  
**ржнрж╛рж╖рж╛**: ржмрж╛ржВрж▓рж╛ + ржЗржВрж░рзЗржЬрж┐  
**ржмрзЗрж╕ URL**: `http://localhost:5000/api`

---

## рж╕ржВржХрзНрж╖рж┐ржкрзНржд

рж╕рж┐рж╕рзНржЯрзЗржорзЗ рззрзжржЯрж┐ ржорзВрж▓ рж░рж┐рж╕рзЛрж░рзНрж╕ ржПржмржВ рзкрзж+ API ржПржирзНржбржкржпрж╝рзЗржирзНржЯ рж░ржпрж╝рзЗржЫрзЗред

---

## ржПржирзНржбржкржпрж╝рзЗржирзНржЯ рждрж╛рж▓рж┐ржХрж╛

### 1я╕ПтГг ржПрж▓рж╛ржХрж╛ (Area)
```
GET    /api/areas           - рж╕ржХрж▓ ржПрж▓рж╛ржХрж╛ рж╕ржВржЧрзНрж░рж╣ ржХрж░рзБржи
GET    /api/areas/<id>      - ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржПрж▓рж╛ржХрж╛ рж╕ржВржЧрзНрж░рж╣ ржХрж░рзБржи
POST   /api/areas           - ржирждрзБржи ржПрж▓рж╛ржХрж╛ рждрзИрж░рж┐ ржХрж░рзБржи
PUT    /api/areas/<id>      - ржПрж▓рж╛ржХрж╛ ржЖржкржбрзЗржЯ ржХрж░рзБржи
DELETE /api/areas/<id>      - ржПрж▓рж╛ржХрж╛ ржорзБржЫрзБржи
```

### 2я╕ПтГг ржирж╛ржЧрж░рж┐ржХ (Citizen)
```
GET    /api/citizens         - рж╕ржХрж▓ ржирж╛ржЧрж░рж┐ржХ рж╕ржВржЧрзНрж░рж╣ ржХрж░рзБржи
GET    /api/citizens/<id>    - ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржирж╛ржЧрж░рж┐ржХ рж╕ржВржЧрзНрж░рж╣ ржХрж░рзБржи
POST   /api/citizens         - ржирждрзБржи ржирж╛ржЧрж░рж┐ржХ рждрзИрж░рж┐ ржХрж░рзБржи
PUT    /api/citizens/<id>    - ржирж╛ржЧрж░рж┐ржХ ржЖржкржбрзЗржЯ ржХрж░рзБржи
DELETE /api/citizens/<id>    - ржирж╛ржЧрж░рж┐ржХ ржорзБржЫрзБржи
```

**ржиржорзБржирж╛ ржбрзЗржЯрж╛** (ржмрж╛ржВрж▓рж╛ ржирж╛ржо):
```
- рж░рж╣рж┐ржо ржЖрж╣ржорзЗржж (Rahim Ahmed)
- ржлрж╛рждрж┐ржорж╛ ржмрзЗржЧржо (Fatima Begum)
- ржХрж░рж┐ржо ржЦрж╛ржи (Karim Khan)
```

### 3я╕ПтГг ржмрж┐рж▓ (Bill) - рз│ ржЯрж╛ржХрж╛ржпрж╝
```
GET    /api/bills            - рж╕ржХрж▓ ржмрж┐рж▓ рж╕ржВржЧрзНрж░рж╣ ржХрж░рзБржи
GET    /api/bills/<id>       - ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржмрж┐рж▓ рж╕ржВржЧрзНрж░рж╣ ржХрж░рзБржи
POST   /api/bills            - ржирждрзБржи ржмрж┐рж▓ рждрзИрж░рж┐ ржХрж░рзБржи
PUT    /api/bills/<id>       - ржмрж┐рж▓ ржЖржкржбрзЗржЯ ржХрж░рзБржи
DELETE /api/bills/<id>       - ржмрж┐рж▓ ржорзБржЫрзБржи
```

**ржорзБржжрзНрж░рж╛**: ржЯрж╛ржХрж╛ (рз│)  
**ржиржорзБржирж╛ ржорзВрж▓рзНржп**:
```
рз│5,000.00  - Paid
рз│4,500.00  - Pending
рз│5,500.00  - Overdue
```

### 4я╕ПтГг ржкрзЗржорзЗржирзНржЯ (Payment) - рз│ ржЯрж╛ржХрж╛ржпрж╝
```
GET    /api/payments         - рж╕ржХрж▓ ржкрзЗржорзЗржирзНржЯ рж╕ржВржЧрзНрж░рж╣ ржХрж░рзБржи
GET    /api/payments/<id>    - ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржкрзЗржорзЗржирзНржЯ рж╕ржВржЧрзНрж░рж╣ ржХрж░рзБржи
POST   /api/payments         - ржирждрзБржи ржкрзЗржорзЗржирзНржЯ рж░рзЗржХрж░рзНржб ржХрж░рзБржи
```

**ржорзБржжрзНрж░рж╛**: ржЯрж╛ржХрж╛ (рз│)  
**ржкржжрзНржзрждрж┐**: Card, Cash, Online, Check

### 5я╕ПтГг ржмрж░рзНржЬрзНржп (Waste)
```
GET    /api/waste            - рж╕ржХрж▓ ржмрж░рзНржЬрзНржп рж╕ржВржЧрзНрж░рж╣ ржХрж░рзБржи
GET    /api/waste/<id>       - ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржмрж░рзНржЬрзНржп рж╕ржВржЧрзНрж░рж╣ ржХрж░рзБржи
POST   /api/waste            - ржирждрзБржи ржмрж░рзНржЬрзНржп рж░рзЗржХрж░рзНржб ржХрж░рзБржи
PUT    /api/waste/<id>       - ржмрж░рзНржЬрзНржп ржЖржкржбрзЗржЯ ржХрж░рзБржи
DELETE /api/waste/<id>       - ржмрж░рзНржЬрзНржп ржорзБржЫрзБржи
```

**ржмрж┐ржнрж╛ржЧ**: Recyclable, Biodegradable, Non-recyclable  
**ржЕржмрж╕рзНржерж╛**: Collected, Recycled, Disposed, Pending

### 6я╕ПтГг ржмрж┐ржи (Bin)
```
GET    /api/bins             - рж╕ржХрж▓ ржмрж┐ржи рж╕ржВржЧрзНрж░рж╣ ржХрж░рзБржи
GET    /api/bins/<id>        - ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржмрж┐ржи рж╕ржВржЧрзНрж░рж╣ ржХрж░рзБржи
POST   /api/bins             - ржирждрзБржи ржмрж┐ржи рждрзИрж░рж┐ ржХрж░рзБржи
PUT    /api/bins/<id>        - ржмрж┐ржи ржЖржкржбрзЗржЯ ржХрж░рзБржи
DELETE /api/bins/<id>        - ржмрж┐ржи ржорзБржЫрзБржи
```

**ржЕржмрж╕рзНржерж╛**: Empty, Partial, Full  
**ржкрж░рж┐ржорж╛ржк**: 0-100% ржлрж┐рж▓ рж▓рзЗржнрзЗрж▓

### 7я╕ПтГг ржжрж▓ (Crew) - ржмрж╛ржВрж▓рж╛ ржирж╛ржорзЗ
```
GET    /api/crew             - рж╕ржХрж▓ ржжрж▓ рж╕ржВржЧрзНрж░рж╣ ржХрж░рзБржи
GET    /api/crew/<id>        - ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржжрж▓ рж╕ржВржЧрзНрж░рж╣ ржХрж░рзБржи
POST   /api/crew             - ржирждрзБржи ржжрж▓ рждрзИрж░рж┐ ржХрж░рзБржи
PUT    /api/crew/<id>        - ржжрж▓ ржЖржкржбрзЗржЯ ржХрж░рзБржи
DELETE /api/crew/<id>        - ржжрж▓ ржорзБржЫрзБржи
```

**ржиржорзБржирж╛ ржжрж▓ ржирж╛ржо** (ржмрж╛ржВрж▓рж╛):
```
- ржЧрзБрж▓рж╢рж╛ржи ржкрж░рж┐рж╖рзНржХрж╛рж░ ржжрж▓
- ржмржирж╛ржирзА ржмрж░рзНржЬрзНржп ржжрж▓
- ржзрж╛ржиржоржирзНржбрж┐ рж╕рзНржмрж╛рж╕рзНржерзНржпржмрж┐ржзрж┐ ржжрж▓
- ржорж┐рж░ржкрзБрж░ ржкрж░рж┐ржЪрзНржЫржирзНржирждрж╛ ржжрж▓
```

### 8я╕ПтГг ржХрзЗржирзНржжрзНрж░ (Recycling Center) - ржврж╛ржХрж╛
```
GET    /api/centers          - рж╕ржХрж▓ ржХрзЗржирзНржжрзНрж░ рж╕ржВржЧрзНрж░рж╣ ржХрж░рзБржи
GET    /api/centers/<id>     - ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржХрзЗржирзНржжрзНрж░ рж╕ржВржЧрзНрж░рж╣ ржХрж░рзБржи
POST   /api/centers          - ржирждрзБржи ржХрзЗржирзНржжрзНрж░ рждрзИрж░рж┐ ржХрж░рзБржи
PUT    /api/centers/<id>     - ржХрзЗржирзНржжрзНрж░ ржЖржкржбрзЗржЯ ржХрж░рзБржи
DELETE /api/centers/<id>     - ржХрзЗржирзНржжрзНрж░ ржорзБржЫрзБржи
```

**ржврж╛ржХрж╛ ржХрзЗржирзНржжрзНрж░**:
```
- ржврж╛ржХрж╛ ржХрзЗржирзНржжрзНрж░рзАржпрж╝ ржкрзБржирж░рзНржмрзНржпржмрж╣рж╛рж░ ржХрзЗржирзНржжрзНрж░
- ржЙрждрзНрждрж░ ржврж╛ржХрж╛ ржкрзБржирж░рзНржмрзНржпржмрж╣рж╛рж░ ржХрзЗржирзНржжрзНрж░
- ржжржХрзНрж╖рж┐ржг ржврж╛ржХрж╛ ржкрзБржирж░рзНржмрзНржпржмрж╣рж╛рж░ ржХрзЗржирзНржжрзНрж░
- ржкрзВрж░рзНржм ржврж╛ржХрж╛ ржкрзБржирж░рзНржмрзНржпржмрж╣рж╛рж░ ржХрзЗржирзНржжрзНрж░
- ржкрж╢рзНржЪрж┐ржо ржврж╛ржХрж╛ ржкрзБржирж░рзНржмрзНржпржмрж╣рж╛рж░ ржХрзЗржирзНржжрзНрж░
```

### 9я╕ПтГг рж╕рзВржЪрзА (Schedule)
```
GET    /api/schedules        - рж╕ржХрж▓ рж╕рзВржЪрзА рж╕ржВржЧрзНрж░рж╣ ржХрж░рзБржи
GET    /api/schedules/<id>   - ржирж┐рж░рзНржжрж┐рж╖рзНржЯ рж╕рзВржЪрзА рж╕ржВржЧрзНрж░рж╣ ржХрж░рзБржи
POST   /api/schedules        - ржирждрзБржи рж╕рзВржЪрзА рждрзИрж░рж┐ ржХрж░рзБржи
```

### ЁЯФЯ рж╕рж╛ржкрзЛрж░рзНржЯ
```
GET    /api/citizens-list    - ржирж╛ржЧрж░рж┐ржХ ржбрзНрж░ржкржбрж╛ржЙржи рждрж╛рж▓рж┐ржХрж╛
GET    /api/areas-list       - ржПрж▓рж╛ржХрж╛ ржбрзНрж░ржкржбрж╛ржЙржи рждрж╛рж▓рж┐ржХрж╛
GET    /api/bills-list       - ржмрж┐рж▓ ржбрзНрж░ржкржбрж╛ржЙржи рждрж╛рж▓рж┐ржХрж╛
```

---

## рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ ржПржмржВ рж░рзЗрж╕ржкржирзНрж╕

### ржЙржжрж╛рж╣рж░ржг рзз: ржирж╛ржЧрж░рж┐ржХ рж╕ржВржЧрзНрж░рж╣ ржХрж░рзБржи
```bash
GET /api/citizens
```

**ржкрзНрж░рждрж┐ржХрзНрж░рж┐ржпрж╝рж╛**:
```json
[
  {
    "citizen_id": 1,
    "name": "рж░рж╣рж┐ржо ржЖрж╣ржорзЗржж",
    "address": "рззрзирзй ржЧрзБрж▓рж╢рж╛ржи ржЖржнрж┐ржирж┐ржЙ",
    "contact": "01700111111",
    "area_id": 1,
    "area_name": "ржЧрзБрж▓рж╢рж╛ржи"
  },
  {
    "citizen_id": 2,
    "name": "ржлрж╛рждрж┐ржорж╛ ржмрзЗржЧржо",
    "address": "рзкрзлрзм ржУржХ ржПржнрж┐ржирж┐ржЙ",
    "contact": "01700111112",
    "area_id": 1,
    "area_name": "ржЧрзБрж▓рж╢рж╛ржи"
  }
]
```

### ржЙржжрж╛рж╣рж░ржг рзи: ржмрж┐рж▓ рж╕ржВржЧрзНрж░рж╣ ржХрж░рзБржи
```bash
GET /api/bills
```

**ржкрзНрж░рждрж┐ржХрзНрж░рж┐ржпрж╝рж╛** (рз│ ржЯрж╛ржХрж╛ржпрж╝):
```json
[
  {
    "bill_id": 1,
    "bill_number": "BILL001",
    "citizen_id": 1,
    "citizen_name": "рж░рж╣рж┐ржо ржЖрж╣ржорзЗржж",
    "amount": 5000.00,
    "status": "Paid",
    "due_date": "2025-01-31",
    "currency": "рз│"
  },
  {
    "bill_id": 2,
    "bill_number": "BILL002",
    "citizen_id": 2,
    "citizen_name": "ржлрж╛рждрж┐ржорж╛ ржмрзЗржЧржо",
    "amount": 4500.00,
    "status": "Pending",
    "due_date": "2025-01-15",
    "currency": "рз│"
  }
]
```

### ржЙржжрж╛рж╣рж░ржг рзй: ржирждрзБржи ржмрж┐рж▓ рждрзИрж░рж┐ ржХрж░рзБржи
```bash
POST /api/bills
Content-Type: application/json

{
  "bill_number": "BILL011",
  "citizen_id": 1,
  "amount": 5500.00,
  "status": "Pending",
  "due_date": "2025-02-15"
}
```

**ржкрзНрж░рждрж┐ржХрзНрж░рж┐ржпрж╝рж╛**:
```json
{
  "success": true,
  "message": "Bill created successfully",
  "bill_id": 11
}
```

### ржЙржжрж╛рж╣рж░ржг рзк: ржкрзЗржорзЗржирзНржЯ рждрзИрж░рж┐ ржХрж░рзБржи
```bash
POST /api/payments
Content-Type: application/json

{
  "citizen_id": 1,
  "bill_id": 1,
  "amount": 5000.00,
  "payment_date": "2025-01-10",
  "method": "Card"
}
```

**ржкрзНрж░рждрж┐ржХрзНрж░рж┐ржпрж╝рж╛** (рз│ ржЯрж╛ржХрж╛ржпрж╝):
```json
{
  "success": true,
  "message": "Payment recorded successfully",
  "payment_id": 11,
  "amount": "рз│5000.00"
}
```

---

## рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕ ржХрзЛржб

| ржХрзЛржб | ржЕрж░рзНрже | ржЙржжрж╛рж╣рж░ржг |
|-----|------|--------|
| 200 | рж╕ржлрж▓ | ржбрзЗржЯрж╛ ржкрж╛ржУржпрж╝рж╛ ржЧрзЗржЫрзЗ |
| 201 | рждрзИрж░рж┐ | ржирждрзБржи рж░рзЗржХрж░рзНржб рждрзИрж░рж┐ рж╣ржпрж╝рзЗржЫрзЗ |
| 400 | ржЦрж╛рж░рж╛ржк рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ | ржЕржмрзИржз ржбрзЗржЯрж╛ |
| 404 | ржкрж╛ржУржпрж╝рж╛ ржпрж╛ржпрж╝ржирж┐ | рж░рзЗржХрж░рзНржб ржмрж┐ржжрзНржпржорж╛ржи ржирзЗржЗ |
| 500 | рж╕рж╛рж░рзНржнрж╛рж░ рждрзНрж░рзБржЯрж┐ | ржбрж╛ржЯрж╛ржмрзЗрж╕ рж╕ржорж╕рзНржпрж╛ |

---

## рж╕рж╛ржзрж╛рж░ржг ржкрзНржпрж╛рж░рж╛ржорж┐ржЯрж╛рж░

### ржмрж┐рж▓
| ржлрж┐рж▓рзНржб | ржЯрж╛ржЗржк | ржЙржжрж╛рж╣рж░ржг |
|------|------|--------|
| bill_number | String | "BILL001" |
| citizen_id | Integer | 1 |
| amount | Decimal | 5000.00 |
| status | String | "Pending", "Paid", "Overdue" |
| due_date | Date | "2025-02-15" |

### ржкрзЗржорзЗржирзНржЯ
| ржлрж┐рж▓рзНржб | ржЯрж╛ржЗржк | ржЙржжрж╛рж╣рж░ржг |
|------|------|--------|
| citizen_id | Integer | 1 |
| bill_id | Integer | 1 |
| amount | Decimal | 5000.00 |
| method | String | "Card", "Cash", "Online", "Check" |
| payment_date | Date | "2025-01-10" |

---

## cURL ржЙржжрж╛рж╣рж░ржг

### рж╕ржХрж▓ ржирж╛ржЧрж░рж┐ржХ рж╕ржВржЧрзНрж░рж╣ ржХрж░рзБржи
```bash
curl http://localhost:5000/api/citizens
```

### ржмрж┐рж╢рзЗрж╖ ржирж╛ржЧрж░рж┐ржХ рж╕ржВржЧрзНрж░рж╣ ржХрж░рзБржи
```bash
curl http://localhost:5000/api/citizens/1
```

### ржирждрзБржи ржмрж┐рж▓ рждрзИрж░рж┐ ржХрж░рзБржи
```bash
curl -X POST http://localhost:5000/api/bills \
  -H "Content-Type: application/json" \
  -d '{
    "bill_number": "BILL011",
    "citizen_id": 1,
    "amount": 5500.00,
    "status": "Pending",
    "due_date": "2025-02-15"
  }'
```

### ржмрж┐рж▓ ржЖржкржбрзЗржЯ ржХрж░рзБржи
```bash
curl -X PUT http://localhost:5000/api/bills/1 \
  -H "Content-Type: application/json" \
  -d '{
    "status": "Paid"
  }'
```

### ржмрж┐рж▓ ржорзБржЫрзБржи
```bash
curl -X DELETE http://localhost:5000/api/bills/1
```

---

## рждрзНрж░рзБржЯрж┐ ржкрзНрж░рждрж┐ржХрзНрж░рж┐ржпрж╝рж╛

### ржЙржжрж╛рж╣рж░ржг: ржбрж╛ржЯрж╛ ржмрзИржзрждрж╛ рждрзНрж░рзБржЯрж┐
```json
{
  "success": false,
  "error": "Invalid amount: must be greater than 0"
}
```

### ржЙржжрж╛рж╣рж░ржг: рж░рзЗржХрж░рзНржб ржкрж╛ржУржпрж╝рж╛ ржпрж╛ржпрж╝ржирж┐
```json
{
  "success": false,
  "error": "Citizen not found"
}
```

---

## ржбрзЗржЯрж╛ рж╕рзАржорж╛ржмржжрзНржзрждрж╛

| ржлрж┐рж▓рзНржб | рж╕рзАржорж╛ржмржжрзНржзрждрж╛ |
|------|-----------|
| bill_number | ржЕржиржирзНржп, ржорзНржпрж╛ржХрзНрж╕ рзлрзж ржЕржХрзНрж╖рж░ |
| amount | > рзж, ржжрж╢ржорж┐ржХ рзи ржЬрж╛ржпрж╝ржЧрж╛ |
| status | Pending/Paid/Overdue (ржмрж┐рж▓), Card/Cash/Online/Check (ржкрзЗржорзЗржирзНржЯ) |
| contact | рззрзж+ ржЕржХрзНрж╖рж░, ржЕржиржирзНржп |

---

## ржврж╛ржХрж╛ ржкрзНрж░рж╕ржЩрзНржЧ

### ржПрж▓рж╛ржХрж╛ ржЖржЗржбрж┐
```
1 - ржЧрзБрж▓рж╢рж╛ржи
2 - ржмржирж╛ржирзА
3 - ржзрж╛ржиржоржирзНржбрж┐
4 - ржорж┐рж░ржкрзБрж░
5 - ржорждрж┐ржЭрж┐рж▓
```

### ржорзБржжрзНрж░рж╛
```
рж╕ржХрж▓ ржкрж░рж┐ржорж╛ржг ржмрж╛ржВрж▓рж╛ржжрзЗрж╢рзА ржЯрж╛ржХрж╛ржпрж╝ (рз│)
1 ржЯрж╛ржХрж╛ = 1 ржЗржЙржирж┐ржЯ
```

---

## рж╕ржорж░рзНржержи

**ржбржХрзБржорзЗржирзНржЯрзЗрж╢ржи**: `/documentation/API_GUIDE.md`  
**ржЙржжрж╛рж╣рж░ржг**: `/api/examples.md`  
**рж╕ржорж╕рзНржпрж╛ рж╕ржорж╛ржзрж╛ржи**: `/documentation/TROUBLESHOOTING.md`

---

**рж╕ржВрж╕рзНржХрж░ржг**: рзз.рзж  
**ржЖржкржбрзЗржЯ**: ржбрж┐рж╕рзЗржорзНржмрж░ рзирежреирел  
**рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕**: тЬЕ рж╕ржорзНржкрзВрж░рзНржг
